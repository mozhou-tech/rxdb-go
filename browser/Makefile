.PHONY: install dev build api frontend seed

# å®‰è£…å‰ç«¯ä¾èµ–
install:
	pnpm install
	cd api && go mod download

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå‰ç«¯å’Œåç«¯ï¼‰
dev:
	@echo "å¯åŠ¨åç«¯ API æœåŠ¡å™¨..."
	@cd api && go run main.go &
	@sleep 2
	@echo "å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨..."
	@pnpm dev

# ä»…å¯åŠ¨åç«¯
api:
	cd api && go run main.go

# ä»…å¯åŠ¨å‰ç«¯
frontend:
	pnpm dev

# æ„å»ºå‰ç«¯
build:
	pnpm build

# æ„å»ºåç«¯
build-api:
	cd api && go build -o browser-api main.go

# ç”Ÿæˆç¤ºä¾‹æ•°æ®
seed:
	@echo "ğŸŒ± ç”Ÿæˆç¤ºä¾‹æ•°æ®..."
	@cd api && go run seed.go

# ç”Ÿæˆå¤§é‡æ•°æ®ç”¨äºæ€§èƒ½æµ‹è¯•ï¼ˆ1ä¸‡æ¡ï¼‰
largeseed:
	@echo "ğŸš€ ç”Ÿæˆå¤§é‡æ•°æ®ç”¨äºæ€§èƒ½æµ‹è¯•ï¼ˆ1ä¸‡æ¡ï¼‰..."
	@cd api && go run largeseed.go

